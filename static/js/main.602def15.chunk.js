(this.webpackJsonpmath=this.webpackJsonpmath||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},2:function(e,t,a){e.exports={leaderBoardContainer:"LeaderBoard_leaderBoardContainer__1VZde",list:"LeaderBoard_list__WUreX",listItem:"LeaderBoard_listItem__13QPm",listItemComponent:"LeaderBoard_listItemComponent__2LoFK",index:"LeaderBoard_index__QpH_I",name:"LeaderBoard_name__1p_7P",score:"LeaderBoard_score__dhSAB"}},23:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),o=a.n(r),s=(a(23),a(8)),i=a.n(s),l=a(16),u=a(1),m=a(4),d=a(6),f=a(17),b="FAILED",p="SUCCESS";function h(e,t){for(var a=Object(m.a)(e),n=a.length-1;n>0;n--){var c=Math.floor(Math.random()*n),r=a[n];a[n]=a[c],a[c]=r}return a.slice(0,t)}function j(e){var t=e.onFinish,a=e.initialOptions,r=e.nToUse,o=e.gameId,s=Object(n.useState)(),i=Object(u.a)(s,2),l=i[0],h=i[1],j=Object(n.useState)(),E=Object(u.a)(j,2),_=E[0],g=E[1],S=Object(n.useState)({}),C=Object(u.a)(S,2),N=C[0],B=C[1],I=Object(n.useState)(!1),k=Object(u.a)(I,2),M=k[0],y=k[1];return Object(n.useEffect)((function(){var e=v(a,r);h(e),g(e.reduce((function(e,t){return e+t}),0))}),[o,a,r]),c.a.createElement("span",{className:"big-game-container"},c.a.createElement("span",{className:"game-sum"},_),c.a.createElement("header",{className:"game-container"},a.map((function(e){return c.a.createElement("button",{className:"num ".concat(N[e]?"disabled":""," ").concat(M&&l.includes(e)?"part-of-solution":""),disabled:N[e],onClick:function(){var n=_-e,c=Object(f.a)({},N,Object(d.a)({},e,!0));B(c);var r=O(a.filter((function(t){return!c[t]&&t!==e})),n);null!==r&&h([].concat(Object(m.a)(Object.entries(c).filter((function(e){var t=Object(u.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(u.a)(e,1)[0];return Number(t)}))),Object(m.a)(r))),null===r?(setTimeout((function(){return t(b)}),2e3),y(!0)):0===n?t(p):g(n)}},e)}))))}var v=function(e,t){return h(e,t)},O=function e(t,a){if(0===a&&0===t.length)return[];if(a>=0&&0===t.length)return null;if(a<0)return null;var n=e(t.slice(1),a-t[0]);if(null!==n)return[t[0]].concat(Object(m.a)(n));var c=e(t.slice(1),a);return null!==c?c:null},E=a(9),_=a.n(E);function g(e){var t=e.gameId,a=e.onFinish,r=Object(n.useState)([]),o=Object(u.a)(r,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){var e=[Math.ceil(10*Math.random()),Math.ceil(10*Math.random())];e.push(Math.ceil(10*Math.random())+(e.every((function(e){return e<=5}))?5:0)),i(e)}),[t]),c.a.createElement("span",{className:_.a.quickCatchContainer},s.map((function(e,t){return c.a.createElement("button",{key:t,className:_.a["movingBall".concat(t)],onClick:function(){a(e>5?p:b)}},e)})))}a(25),a(26);function S(e){var t=e.onSubmit,a=Object(n.useState)(),r=Object(u.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)(),l=Object(u.a)(i,2),m=l[0],d=l[1];return c.a.createElement("span",{className:"player-chooser-container"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(o,m)}},c.a.createElement("span",{className:"player-chooser-container-field"},c.a.createElement("label",null,"User"),c.a.createElement("input",{name:"username",type:"text",onChange:function(e){return s(e.target.value)}})),c.a.createElement("span",{className:"player-chooser-container-field"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{type:"text",onChange:function(e){return d(e.target.value)}})),c.a.createElement("input",{type:"submit",value:"Submit"})))}var C=a(2),N=a.n(C),B=a(3);a(14);function I(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){B.database().ref("/users/").on("value",(function(e){r(Object.values(e.val()).sort((function(e,t){return t.score-e.score})))}))}),[]),c.a.createElement("span",{className:N.a.leaderBoardContainer},c.a.createElement("ul",{className:N.a.list},a.map((function(e,t){return c.a.createElement("li",{className:N.a.listItem},c.a.createElement("span",{className:"".concat(N.a.listItemComponent," ").concat(N.a.index)},t+1),c.a.createElement("span",{className:"".concat(N.a.listItemComponent," ").concat(N.a.name)},e.name),c.a.createElement("span",{className:"".concat(N.a.listItemComponent," ").concat(N.a.score)}," ",e.score))}))))}B.initializeApp({apiKey:"AIzaSyC8ZXJBanm83WVhdbYnrSR_gV7QDNR7NzY",authDomain:"math-a7cdc.firebaseapp.com",databaseURL:"https://math-a7cdc.firebaseio.com",projectId:"math-a7cdc",storageBucket:"math-a7cdc.appspot.com",messagingSenderId:"438256651307",appId:"1:438256651307:web:2bde54ba227715a1d7ee6e",measurementId:"G-HG898MJZF7"});var k=h([2,3,5,7,9,11,13,17,19,23,25,31,37],9).sort((function(e,t){return e-t})),M=function(e){var t=e.children,a=c.a.Children.toArray(t);return a[Math.floor(Math.random()*a.length)]},y=function(){return c.a.createElement("div",{className:"game-container",style:{fontSize:36}},"SUCCESS!!! :) :)")},w=function(){return c.a.createElement("div",{className:"game-container",style:{fontSize:36}},"Failed!!! :( :(")},x=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(),h=Object(u.a)(f,2),v=h[0],O=h[1],E=Object(n.useState)(),_=Object(u.a)(E,2),C=_[0],N=_[1],x=Object(n.useState)(),L=Object(u.a)(x,2),F=L[0],Q=L[1],U=Object(n.useState)(),T=Object(u.a)(U,2),z=T[0],A=T[1],D=Object(n.useState)(),H=Object(u.a)(D,2),J=H[0],R=H[1],V=Object(n.useState)(!1),W=Object(u.a)(V,2),Z=W[0],q=W[1],P=Object(n.useState)(1),Y=Object(u.a)(P,2),$=Y[0],G=Y[1],K=Object(n.useState)(!1),X=Object(u.a)(K,2),ee=X[0],te=X[1],ae=Object(n.useState)(!0),ne=Object(u.a)(ae,2),ce=ne[0],re=ne[1];return Object(n.useEffect)((function(){setTimeout((function(){return re(!1)}),5e3)})),Object(n.useEffect)((function(){if(ee){B.database().ref("/users/".concat(z)).on("value",(function(e){var t=e.val();R(t.name),d(t.score),r(t.level),q(t.simpleMode)}));var e=a+1,t=Math.min(k.length,2*(a+1)),n=Z?1:Math.ceil(Math.random()*(t-e))+e,c=Z?1:Math.ceil(Math.random()*k.length*a);N(n),O(c)}}),[z,m,a,Z,ee]),ce?c.a.createElement(I,null):ee?c.a.createElement("span",{className:"app-container"},c.a.createElement(I,null),c.a.createElement("span",{className:"stats-container"},c.a.createElement("div",{className:"stat"},"$",m),c.a.createElement("div",{className:"stat"},"$",v),c.a.createElement("div",{className:"stat"},J)),F===b?c.a.createElement(w,null):F===p?c.a.createElement(y,null):c.a.createElement(M,null,c.a.createElement(g,{gameId:$,onFinish:function(e){Q(e),setTimeout((function(){Q(),G($+1)}),2e3);var t=e===p?m+v:m-v;B.database().ref("/users/".concat(z)).update({score:t})}}),c.a.createElement(j,{nToUse:C,initialOptions:k,gameId:$,onFinish:function(e){Q(e),setTimeout((function(){Q(),G($+1)}),2e3);var t=e===p?m+v:m-v;console.log({newScore:t}),B.database().ref("/users/".concat(z)).update({score:t})}}))):c.a.createElement(S,{onSubmit:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B.database().ref("/users/".concat(t)),e.next=3,n.once("value");case 3:c=e.sent,(r=c.val()).password===a&&(A(t),R(r.name),te(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports={quickCatchContainer:"QuickCatch_quickCatchContainer__ZjowR",movingBall0:"QuickCatch_movingBall0__3idmn",slidein:"QuickCatch_slidein__2tN5V",movingBall1:"QuickCatch_movingBall1__oYCHj",movingBall2:"QuickCatch_movingBall2__3eiH-"}}},[[18,1,2]]]);
//# sourceMappingURL=main.602def15.chunk.js.map