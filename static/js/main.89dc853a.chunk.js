(this.webpackJsonpmath=this.webpackJsonpmath||[]).push([[0],{17:function(e,t,a){e.exports=a(29)},2:function(e,t,a){e.exports={leaderBoardContainer:"LeaderBoard_leaderBoardContainer__1VZde",list:"LeaderBoard_list__WUreX",listItem:"LeaderBoard_listItem__13QPm",listItemComponent:"LeaderBoard_listItemComponent__2LoFK",index:"LeaderBoard_index__QpH_I",name:"LeaderBoard_name__1p_7P",score:"LeaderBoard_score__dhSAB"}},22:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),s=a.n(r),o=(a(22),a(8)),l=a.n(o),i=a(15),u=a(1),m=a(4),b=a(6),d=a(16),f="FAILED",p="SUCCESS";function O(e,t){for(var a=Object(m.a)(e),n=a.length-1;n>0;n--){var c=Math.floor(Math.random()*n),r=a[n];a[n]=a[c],a[c]=r}return a.slice(0,t)}function j(e){var t=e.onFinish,a=e.initialOptions,r=e.nToUse,s=e.gameId,o=Object(n.useState)(),l=Object(u.a)(o,2),i=l[0],O=l[1],j=Object(n.useState)(),E=Object(u.a)(j,2),S=E[0],g=E[1],_=Object(n.useState)({}),N=Object(u.a)(_,2),I=N[0],C=N[1],B=Object(n.useState)(!1),w=Object(u.a)(B,2),y=w[0],L=w[1];return Object(n.useEffect)((function(){var e=v(a,r);O(e),g(e.reduce((function(e,t){return e+t}),0))}),[s,a,r]),c.a.createElement("span",{className:"big-game-container"},c.a.createElement("span",{className:"game-sum"},S),c.a.createElement("header",{className:"game-container"},a.map((function(e){return c.a.createElement("button",{className:"num ".concat(I[e]?"disabled":""," ").concat(y&&i.includes(e)?"part-of-solution":""),disabled:I[e],onClick:function(){var n=S-e,c=Object(d.a)({},I,Object(b.a)({},e,!0));C(c);var r=h(a.filter((function(t){return!c[t]&&t!==e})),n);null!==r&&O([].concat(Object(m.a)(Object.entries(c).filter((function(e){var t=Object(u.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(u.a)(e,1)[0];return Number(t)}))),Object(m.a)(r))),null===r?(setTimeout((function(){return t(f)}),2e3),L(!0)):0===n?t(p):g(n)}},e)}))))}var v=function(e,t){return O(e,t)},h=function e(t,a){if(0===a&&0===t.length)return[];if(a>=0&&0===t.length)return null;if(a<0)return null;var n=e(t.slice(1),a-t[0]);if(null!==n)return[t[0]].concat(Object(m.a)(n));var c=e(t.slice(1),a);return null!==c?c:null};a(24),a(25);function E(e){var t=e.onSubmit,a=Object(n.useState)(),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(n.useState)(),i=Object(u.a)(l,2),m=i[0],b=i[1];return c.a.createElement("span",{className:"player-chooser-container"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s,m)}},c.a.createElement("span",{className:"player-chooser-container-field"},c.a.createElement("label",null,"User"),c.a.createElement("input",{name:"username",type:"text",onChange:function(e){return o(e.target.value)}})),c.a.createElement("span",{className:"player-chooser-container-field"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{type:"text",onChange:function(e){return b(e.target.value)}})),c.a.createElement("input",{type:"submit",value:"Submit"})))}var S=a(2),g=a.n(S),_=a(3);a(13);function N(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){_.database().ref("/users/").on("value",(function(e){r(Object.values(e.val()).sort((function(e,t){return t.score-e.score})))}))}),[]),c.a.createElement("span",{className:g.a.leaderBoardContainer},c.a.createElement("ul",{className:g.a.list},a.map((function(e,t){return c.a.createElement("li",{className:g.a.listItem},c.a.createElement("span",{className:"".concat(g.a.listItemComponent," ").concat(g.a.index)},t+1),c.a.createElement("span",{className:"".concat(g.a.listItemComponent," ").concat(g.a.name)},e.name),c.a.createElement("span",{className:"".concat(g.a.listItemComponent," ").concat(g.a.score)}," ",e.score))}))))}_.initializeApp({apiKey:"AIzaSyC8ZXJBanm83WVhdbYnrSR_gV7QDNR7NzY",authDomain:"math-a7cdc.firebaseapp.com",databaseURL:"https://math-a7cdc.firebaseio.com",projectId:"math-a7cdc",storageBucket:"math-a7cdc.appspot.com",messagingSenderId:"438256651307",appId:"1:438256651307:web:2bde54ba227715a1d7ee6e",measurementId:"G-HG898MJZF7"});var I=O([2,3,5,7,9,11,13,17,19,23,25,31,37],9).sort((function(e,t){return e-t})),C=function(){return c.a.createElement("div",{className:"game-container",style:{fontSize:36}},"SUCCESS!!! :) :)")},B=function(){return c.a.createElement("div",{className:"game-container",style:{fontSize:36}},"Failed!!! :( :(")},w=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(),o=Object(u.a)(s,2),m=o[0],b=o[1],d=Object(n.useState)(),O=Object(u.a)(d,2),v=O[0],h=O[1],S=Object(n.useState)(),g=Object(u.a)(S,2),w=g[0],y=g[1],L=Object(n.useState)(),x=Object(u.a)(L,2),M=x[0],k=x[1],U=Object(n.useState)(),F=Object(u.a)(U,2),z=F[0],T=F[1],A=Object(n.useState)(),D=Object(u.a)(A,2),J=D[0],W=D[1],P=Object(n.useState)(!1),Q=Object(u.a)(P,2),R=Q[0],V=Q[1],Z=Object(n.useState)(1),$=Object(u.a)(Z,2),G=$[0],H=$[1],K=Object(n.useState)(!1),X=Object(u.a)(K,2),Y=X[0],q=X[1],ee=Object(n.useState)(!0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1];return Object(n.useEffect)((function(){setTimeout((function(){return ne(!1)}),5e3)})),Object(n.useEffect)((function(){if(Y){_.database().ref("/users/".concat(z)).on("value",(function(e){var t=e.val();W(t.name),b(t.score),r(t.level),V(t.simpleMode)}));var e=a+1,t=Math.min(I.length,2*(a+1)),n=R?1:Math.ceil(Math.random()*(t-e))+e,c=R?1:Math.ceil(Math.random()*I.length*a);y(n),h(c)}}),[z,m,a,R,Y]),ae?c.a.createElement(N,null):Y?c.a.createElement("span",{className:"app-container"},c.a.createElement(N,null),c.a.createElement("span",{className:"stats-container"},c.a.createElement("div",{className:"stat"},"$",m),c.a.createElement("div",{className:"stat"},"$",v),c.a.createElement("div",{className:"stat"},J)),M===f?c.a.createElement(B,null):M===p?c.a.createElement(C,null):c.a.createElement(j,{nToUse:w,initialOptions:I,gameId:G,onFinish:function(e){k(e),setTimeout((function(){k(),H(G+1)}),2e3);var t=e===p?m+v:m-v;_.database().ref("/users/".concat(z)).update({score:t})}})):c.a.createElement(E,{onSubmit:function(){var e=Object(i.a)(l.a.mark((function e(t,a){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_.database().ref("/users/".concat(t)),e.next=3,n.once("value");case 3:c=e.sent,(r=c.val()).password===a&&(T(t),W(r.name),q(!0));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.89dc853a.chunk.js.map